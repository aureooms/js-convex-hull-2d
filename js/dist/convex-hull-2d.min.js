"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}var _slicedToArray=function(){function r(r,e){var n=[],t=!0,a=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(t=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);t=!0);}catch(c){a=!0,o=c}finally{try{!t&&u["return"]&&u["return"]()}finally{if(a)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){var r=function(r,e){function n(r,e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r.length,a=0;case 2:if(!(n>a)){t.next=9;break}if(!r[a]){t.next=6;break}return t.next=6,e[a];case 6:++a,t.next=2;break;case 9:case"end":return t.stop()}},t[0],this)}var t=[n].map(regeneratorRuntime.mark),a=function(r){var e=function(e,n,t,a,o){var i,u,c;for(c=t;a>=c+e;c+=e)u=[],r(n,c,c+e,u),i.push(u);a>c&&(u=[],r(n,c,a,u),i.push(u))};return e};r._chan=a;var o=function(r,e,n){var t=r.crs,a=r.dot,o=e.length;r:for(var i=0;o>i;++i){for(var u=+(0===i),c=e[u],s=e[i],f=c,l=c,v=1;o>v;++v)if(v!==u&&v!==i){var h=e[v],p=t(c,s,h);if(p>0){var g=t(s,f,h);0>g&&(f=h)}else if(0>p){var g=t(s,l,h);g>0&&(l=h)}else{var d=a(c,s,h);if(0>d){n[i]=!1;continue r}}}f!==c&&l!==c&&t(f,l,s)<=0&&(n[i]=!1)}};r._n2=o;var i=function(r,e,n){for(var t=r.crs,a=r.dot,o=e.length,i=0;o>i;++i){var u=e[i];r:for(var c=0;o>c;++c)if(c!==i){for(var s=e[c],f=0;o>f;++f)if(f!==i&&f!==c){var l=e[f],v=t(u,s,l);if(0>v||0===v&&a(u,s,l)<0)continue r}n[c]=!0}}};r._n3=i;var u=function(r,e,n){for(var t=r.col,a=r.pit,o=e.length,i=0;o>i;++i)if(n[i])for(var u=e[i],c=0;o>c;++c)if(c!==i&&n[c])for(var s=e[c],f=0;o>f;++f)if(f!==i&&f!==c&&n[f]){var l=e[f];if(!t(u,s,l))for(var v=0;o>v;++v)v!==i&&v!==c&&v!==f&&n[v]&&a(e[v],u,s,l)&&(n[v]=!1)}};r._n4=u;var c=function(r,e,n,t,a){for(var o=t;n>e;){o=Math.floor((n-e)/2)+e;var i=0>o-1?r.length-1:o-1,u=(o+1)%r.length,c=geo.cos(r[t],a,r[o]),s=geo.cos(r[t],a,r[i]),f=geo.cos(r[t],a,r[u]);if(s>c){if(f>c)return o;if(c==f&&dist(a,r[o])<dist(a,r[u]))return o;e=o+1}else{if(c==s&&f>c&&dist(a,r[o])<dist(a,r[i]))return o;n=o}}return o},s=function(r,e){if(0==r.length)return void r.push(e);if(1==r.length)return void(e.x<r[0]||e.x==r[0]&&e.y<r[0].y?r.splice(0,0,e):r.push(e));if(2==r.length)return void(e.x<r[0]||e.x==r[0]&&e.y<r[0].y?r.splice(0,0,e):sin_sign(r[0],r[1],e)>0?r.splice(1,0,e):r.push(e));for(var n=1,t=r.length,a=Math.floor((t-n)/2)+n,o=sin_sign(r[0],r[1],e)<0?1:-1;t>n;){if(o*sin_sign(r[0],e,r[a])>0){if(o*sin_sign(r[0],e,r[(a+1)%r.length])<0){++a;break}n=a+1}else{if(o*sin_sign(r[0],e,r[a-1])>0)break;t=a}a=Math.floor((t-n)/2)+n}var i=c(r,0,a,0,e),u=c(r,a,r.length,0,e);0==u&&(u=[i,i=u][0]),sin_sign(r[i],r[u],e)>=0?r.splice(i+1,u-i-1,e):(r.splice(u+1,r.length-u-1,e),r.splice(0,i))},f=function(r,e,n){};r.ch_online_add=s,r.ch_online_rm=f;var l=function(r,e,n,t,a){a.push(e[n]),a.push(e[n+1]);for(var o=0,i=n+2;t>i;++i){for(var u=e[i];o>=0&&r(a[o],a[o+1],u)<=0;)a.pop(),--o;a.push(u),++o}};r.gscan=l;var v=function(r,e,n,t,a){var o=[];o.push(e[n]),o.push(e[n+1]),a.push(e[n]),a.push(e[n+1]);for(var i=0,u=0,c=n+2;t>c;++c){for(var s=e[c];i>=0&&r(o[i],o[i+1],s)>=0;)o.pop(),--i;for(o.push(s),++i;u>=0&&r(a[u],a[u+1],s)<=0;)a.pop(),--u;a.push(s),++u}for(var c=i;c>0;--c)a.push(o[c])};r.gscanmono=v;var h=regeneratorRuntime.mark(function M(r,e,n){var t,a,o,i,u,c,s;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=n.length,a=n[0],o=a,i=1;case 4:for(u=n[i],++i;t>i;++i)c=n[i],s=r(o,u,c),(0>s||0===s&&e(o,u,c)<0)&&(u=c);if(u!==a){f.next=9;break}return f.abrupt("break",15);case 9:return f.next=11,u;case 11:o=u,i=0,f.next=4;break;case 15:case"end":return f.stop()}},M,this)});r.jmarch=h;var p=regeneratorRuntime.mark(function T(r,e,n,t,a,o,i,u){var c,s,f,l,v,h,p,g,d,m,x,b,y;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:c=t-1,s=a-1,f=s,l=0,v=0,h=-1,p=-1;case 7:if(!(s>=c)){_.next=31;break}if(g=n[c],d=r(o,i,g),!(0>d)){_.next=14;break}return(l>d||d===l&&e(g,n[h])<0)&&(h=c,l=d),++c,_.abrupt("continue",7);case 14:if(m=r(i,u,g),!(0>m)){_.next=22;break}return x=n[c],n[c]=n[s],n[s]=x,(v>m||m===v&&e(g,n[p])<0)&&(p=s,v=m),--s,_.abrupt("continue",7);case 22:p===f&&(p=s),c!==s&&(b=n[f],n[f]=n[s],n[s]=b),y=n[c],n[c]=n[f],n[f]=y,--f,--s,_.next=7;break;case 31:if(-1===h){_.next=36;break}return y=n[h],n[h]=n[t],n[t]=y,_.delegateYield(T(r,e,n,t+1,c,o,y,i),"t0",36);case 36:return _.next=38,i;case 38:if(-1===p){_.next=43;break}return y=n[p],n[p]=n[c],n[c]=y,_.delegateYield(T(r,e,n,c+1,f,i,y,u),"t1",43);case 43:case"end":return _.stop()}},T,this)});r.qhull=p;var g=function(r){return function(e){for(var n=new Array(e),t=0;e>t;++t)n[t]=r;return n}};r._alloc=g;var d=function(r,e){return function(t,a){var o=e(a.length);return r(t,a,o),_(t,[].concat(_toConsumableArray(n(o,a))))}};r._from=d;var m=function(r,n,t,a){var o,i,u;if(t>=a)return e;for(o=t,i=n[o],++t;a>t;++t)u=n[t],r(u,i)>0&&(o=t,i=u);return o},x=function(r,n,t,a){var o,i,u;if(t>=a)return e;for(o=t,i=n[o],++t;a>t;++t)u=n[t],r(u,i)<0&&(o=t,i=u);return o},b=function(r,e){var n=r.lex,t=r.colex,a=e.length,o=x(n,e,0,a),i=e[o];e[o]=e[0],e[0]=i;var u=x(t,e,1,a),c=e[u];e[u]=e[1],e[1]=c;var s=m(n,e,2,a),f=e[s];e[s]=e[2],e[2]=f;var l=m(t,e,3,a),v=e[l];return e[l]=e[3],e[3]=v,[i,c,f,v]};r.corners=b;var y=function(r,e){var n=r.lex,t=x(n,e,0,e.length),a=e[t];return e[t]=e[0],e[0]=a,a};r.origin=y;var _=function(r,e){var n=y(r,e);return[n].concat(e.slice(1).sort(r.ccw(r.crs,r.dot,n)))};r.sort=_;var w=function(r,e){var n=_(r,[].concat(_toConsumableArray(e))),t=[];return l(r.crs,n,0,n.length,t),t};r.grahamscan=w;var k=function(r,e){var n=[].concat(_toConsumableArray(e)).sort(r.lex),t=[];return v(r.crs,n,0,n.length,t),t};r.grahamscanmono=k;var A=regeneratorRuntime.mark(function q(r,e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[].concat(_toConsumableArray(e)),t.next=3,y(r,n);case 3:return t.delegateYield(h(r.crs,r.dot,n),"t0",4);case 4:case"end":return t.stop()}},q,this)});r.jarvismarch=A;var R=d(o,g(!0));r.n2=R;var j=d(i,g(!1));r.n3=j;var C=d(u,g(!0));r.n4=C;var Y=regeneratorRuntime.mark(function S(r,e){var n,t,a,o,i,u,c,s,f,l;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=[].concat(_toConsumableArray(e)),t=n.length,a=b(r,n),o=_slicedToArray(a,4),i=o[0],u=o[1],c=o[2],s=o[3],f=r.crs,l=r.lex,v.next=12,i;case 12:return v.delegateYield(p(f,l,n,4,t,i,u,c),"t0",13);case 13:return v.next=15,c;case 15:return v.delegateYield(p(f,l,n,4,t,c,s,i),"t1",16);case 16:case"end":return v.stop()}},S,this)});return r.quickhull=Y,r};"object"==typeof exports?r(exports):"function"==typeof define&&define.amd?define("@aureooms/js-convex-hull-2d",[],function(){return r({})}):"object"==typeof window&&"object"==typeof window.document?r(window.convexhull2d={}):console.error("unable to detect type of module to define for @aureooms/js-convex-hull-2d")}();
//# sourceMappingURL=js/dist/convex-hull-2d.js.map